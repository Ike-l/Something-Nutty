[gd_scene load_steps=37 format=3 uid="uid://de1abd0ch6wpt"]

[ext_resource type="Script" uid="uid://cxn8rtjg71wse" path="res://scripts/environment.gd" id="1_d5dl1"]
[ext_resource type="PackedScene" uid="uid://nn3cxg8w23s7" path="res://scenes/Sir Nut.tscn" id="2_fm4en"]
[ext_resource type="PackedScene" uid="uid://binuyqm458jt6" path="res://scenes/Tree.tscn" id="3_d5dl1"]
[ext_resource type="PackedScene" uid="uid://bievc6vxo4bh7" path="res://scenes/nut.tscn" id="3_f0uwl"]
[ext_resource type="Script" uid="uid://gjogryhtjxsk" path="res://Trunk.gd" id="4_hlc4h"]
[ext_resource type="Texture2D" uid="uid://b3u2rrelsa7d" path="res://assets/NutPile.png" id="7_oqnwj"]
[ext_resource type="Script" uid="uid://cftpjmyxtt0i7" path="res://scenes/win.gd" id="8_2vexs"]
[ext_resource type="Texture2D" uid="uid://ck503fdlwvjs4" path="res://assets/DaveHoldingNut.png" id="9_80s2q"]
[ext_resource type="Texture2D" uid="uid://dwmt7oyo786ui" path="res://assets/DaveLowNut.png" id="10_3am05"]
[ext_resource type="Texture2D" uid="uid://deis3hppkgd6o" path="res://assets/DaveHighNut.png" id="11_1afuj"]
[ext_resource type="Texture2D" uid="uid://d17shqv3vcr4u" path="res://assets/Treetop.png" id="11_om7ee"]
[ext_resource type="Texture2D" uid="uid://sf4gmloo1cd0" path="res://assets/DaveCrouchLeft.png" id="12_6p5pf"]
[ext_resource type="Texture2D" uid="uid://w8fg48sd0y8b" path="res://assets/DaveFront.png" id="12_375xh"]
[ext_resource type="Texture2D" uid="uid://71wmu7erpxpr" path="res://assets/DaveSide.png" id="13_6p5pf"]
[ext_resource type="Texture2D" uid="uid://s3j5dti4h32r" path="res://assets/DaveCrouchRight.png" id="13_t8dep"]
[ext_resource type="Texture2D" uid="uid://buykdx06yq5wc" path="res://assets/DaveRight.png" id="14_t8dep"]
[ext_resource type="Script" uid="uid://lywep3fi8err" path="res://scripts/dave.gd" id="15_dmsi2"]
[ext_resource type="Texture2D" uid="uid://cm2rpk7e6sfq6" path="res://assets/background-1.png.png" id="18_3am05"]
[ext_resource type="Texture2D" uid="uid://b0jt71cwkifd0" path="res://assets/DaveWalk1.png" id="18_bwu6h"]
[ext_resource type="Texture2D" uid="uid://dhk8sfuuxnypq" path="res://assets/DaveBlink.png" id="19_cofmf"]
[ext_resource type="Texture2D" uid="uid://civykadgfh1vx" path="res://assets/DaveWalk2.png" id="19_qhcem"]
[ext_resource type="Texture2D" uid="uid://b0045tkpuh0s7" path="res://assets/DaveWalk3.png" id="20_l5y12"]
[ext_resource type="Texture2D" uid="uid://cgadm465fdlb8" path="res://assets/DaveWalk4.png" id="21_oqnwj"]
[ext_resource type="Texture2D" uid="uid://bmndcrk4vy4cp" path="res://assets/DaveWalkRight1.png" id="22_2vexs"]
[ext_resource type="Texture2D" uid="uid://cfeckib1vg4go" path="res://assets/DaveWalkRight2.png" id="23_om7ee"]
[ext_resource type="Texture2D" uid="uid://cybd2bf3p76vl" path="res://assets/DaveWalkRight3.png" id="24_6rpxt"]
[ext_resource type="Texture2D" uid="uid://5oygqvauw4ec" path="res://assets/DaveWalkRight4.png" id="25_qrvva"]
[ext_resource type="Script" uid="uid://bfxa2k2sp2mpk" path="res://scenes/button.gd" id="26_qhcem"]
[ext_resource type="AudioStream" uid="uid://c4pfm2g732vea" path="res://assets/MainGame.mp3" id="29_2vexs"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_f0uwl"]
size = Vector2(292, 21.375)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_bwu6h"]
size = Vector2(19, 76.6875)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_oqnwj"]
size = Vector2(280, 10)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_qhcem"]
size = Vector2(15.375, 80.34375)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_l5y12"]
size = Vector2(15.375, 57.34375)

[sub_resource type="CircleShape2D" id="CircleShape2D_om7ee"]
radius = 51.009804

[sub_resource type="SpriteFrames" id="SpriteFrames_f0uwl"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("13_6p5pf")
}, {
"duration": 1.0,
"texture": ExtResource("12_6p5pf")
}, {
"duration": 1.0,
"texture": ExtResource("13_6p5pf")
}],
"loop": true,
"name": &"BounceLeft",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("13_t8dep")
}, {
"duration": 1.0,
"texture": ExtResource("14_t8dep")
}, {
"duration": 1.0,
"texture": ExtResource("13_t8dep")
}],
"loop": true,
"name": &"BounceRight",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("9_80s2q")
}, {
"duration": 1.0,
"texture": ExtResource("10_3am05")
}, {
"duration": 1.0,
"texture": ExtResource("11_1afuj")
}],
"loop": true,
"name": &"Throw",
"speed": 5.0
}, {
"frames": [{
"duration": 2.0,
"texture": ExtResource("12_6p5pf")
}, {
"duration": 2.0,
"texture": ExtResource("18_bwu6h")
}, {
"duration": 2.0,
"texture": ExtResource("19_qhcem")
}, {
"duration": 2.0,
"texture": ExtResource("20_l5y12")
}, {
"duration": 1.0,
"texture": ExtResource("21_oqnwj")
}],
"loop": true,
"name": &"WalkLeft",
"speed": 10.0
}, {
"frames": [{
"duration": 2.0,
"texture": ExtResource("22_2vexs")
}, {
"duration": 2.0,
"texture": ExtResource("23_om7ee")
}, {
"duration": 2.0,
"texture": ExtResource("24_6rpxt")
}, {
"duration": 3.0,
"texture": ExtResource("25_qrvva")
}],
"loop": true,
"name": &"WalkRight",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("12_375xh")
}, {
"duration": 1.0,
"texture": ExtResource("19_cofmf")
}, {
"duration": 20.0,
"texture": ExtResource("12_375xh")
}],
"loop": true,
"name": &"default-Blink",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("13_6p5pf")
}],
"loop": true,
"name": &"left",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("14_t8dep")
}],
"loop": true,
"name": &"right",
"speed": 2.0
}]

[node name="Environment" type="Node2D"]
script = ExtResource("1_d5dl1")

[node name="SirNut" parent="." instance=ExtResource("2_fm4en")]
position = Vector2(344, 117)

[node name="Sir Nut" parent="SirNut" index="0"]
nut_scene = ExtResource("3_f0uwl")

[node name="nut_spawn_point" type="Marker2D" parent="SirNut/Sir Nut" index="2"]
position = Vector2(17, 16)

[node name="Tree" parent="." instance=ExtResource("3_d5dl1")]
z_index = 1
position = Vector2(596, 421)

[node name="RigidBody2D" parent="Tree" index="0"]
disable_mode = 1
script = ExtResource("4_hlc4h")

[node name="CollisionShape2D" parent="Tree/RigidBody2D" index="0"]
position = Vector2(1, -59.625)
debug_color = Color(0, 0, 0, 1)

[node name="RigidBody2D0" parent="Tree/Branches" index="0"]
position = Vector2(-63, -289)

[node name="CollisionShape2D" parent="Tree/Branches/RigidBody2D0" index="0"]
position = Vector2(-88, 24)

[node name="AnimatedSprite2D" parent="Tree/Branches/RigidBody2D0" index="1"]
position = Vector2(52, -2)
scale = Vector2(0.25, 0.25)

[node name="CollisionShape2D2" parent="Tree/Branches/RigidBody2D0" index="2"]
position = Vector2(-99, -69.6875)
shape = SubResource("RectangleShape2D_f0uwl")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="Tree/Branches/RigidBody2D0" index="3"]
position = Vector2(-240.5, -22)
shape = SubResource("RectangleShape2D_bwu6h")

[node name="RigidBody2D1" parent="Tree/Branches" index="1"]
position = Vector2(69, -257)

[node name="CollisionShape2D" parent="Tree/Branches/RigidBody2D1" index="0"]
position = Vector2(83, 24)

[node name="AnimatedSprite2D" parent="Tree/Branches/RigidBody2D1" index="1"]
position = Vector2(-60, -2)
scale = Vector2(0.25, 0.25)

[node name="CollisionShape2D2" parent="Tree/Branches/RigidBody2D1" index="2"]
position = Vector2(89, -70)
shape = SubResource("RectangleShape2D_oqnwj")

[node name="CollisionShape2D3" parent="Tree/Branches/RigidBody2D1" index="3"]
position = Vector2(233, -27)
shape = SubResource("RectangleShape2D_qhcem")

[node name="RigidBody2D2" parent="Tree/Branches" index="2"]
position = Vector2(-35, -214)

[node name="CollisionShape2D" parent="Tree/Branches/RigidBody2D2" index="0"]
position = Vector2(-92, 23)

[node name="AnimatedSprite2D" parent="Tree/Branches/RigidBody2D2" index="1"]
position = Vector2(21, 1)
scale = Vector2(0.25, 0.25)

[node name="CollisionShape2D2" parent="Tree/Branches/RigidBody2D2" index="2"]
position = Vector2(-233, -10.671875)
shape = SubResource("RectangleShape2D_l5y12")

[node name="RigidBody2D3" parent="Tree/Branches" index="3"]
position = Vector2(38, -181)

[node name="CollisionShape2D" parent="Tree/Branches/RigidBody2D3" index="0"]
position = Vector2(88, 21)

[node name="AnimatedSprite2D" parent="Tree/Branches/RigidBody2D3" index="1"]
position = Vector2(-26.999998, -3.9999998)
scale = Vector2(0.25, 0.25)

[node name="CollisionShape2D2" parent="Tree/Branches/RigidBody2D3" index="2"]
position = Vector2(205, -16)

[node name="RigidBody2D4" parent="Tree/Branches" index="4"]
position = Vector2(-33, -132)

[node name="CollisionShape2D" parent="Tree/Branches/RigidBody2D4" index="0"]
position = Vector2(-65, 24)

[node name="AnimatedSprite2D" parent="Tree/Branches/RigidBody2D4" index="1"]
position = Vector2(25, 1)
scale = Vector2(0.25, 0.25)

[node name="CollisionShape2D2" parent="Tree/Branches/RigidBody2D4" index="2"]
position = Vector2(-157, -2)

[node name="RigidBody2D5" parent="Tree/Branches" index="5"]
position = Vector2(37, -71)

[node name="CollisionShape2D" parent="Tree/Branches/RigidBody2D5" index="0"]
position = Vector2(62, 21)

[node name="AnimatedSprite2D" parent="Tree/Branches/RigidBody2D5" index="1"]
position = Vector2(-27, -2)
scale = Vector2(0.25, 0.25)

[node name="CollisionShape2D2" parent="Tree/Branches/RigidBody2D5" index="2"]
position = Vector2(159, -31)

[node name="RigidBody2D6" parent="Tree/Branches" index="6"]
position = Vector2(-35, -13)

[node name="CollisionShape2D" parent="Tree/Branches/RigidBody2D6" index="0"]
position = Vector2(-55, 23)

[node name="AnimatedSprite2D" parent="Tree/Branches/RigidBody2D6" index="1"]
position = Vector2(24, 0)
scale = Vector2(0.25, 0.25)

[node name="CollisionShape2D3" parent="Tree/Branches/RigidBody2D6" index="2"]
position = Vector2(-135, -34)

[node name="RigidBody2D7" parent="Tree/Branches" index="7"]
position = Vector2(34, 45)

[node name="CollisionShape2D" parent="Tree/Branches/RigidBody2D7" index="0"]
position = Vector2(55, 21)

[node name="AnimatedSprite2D" parent="Tree/Branches/RigidBody2D7" index="1"]
position = Vector2(-25, -2)
scale = Vector2(0.25, 0.25)

[node name="CollisionShape2D3" parent="Tree/Branches/RigidBody2D7" index="2"]
position = Vector2(124, -36)

[node name="RigidBody2D8" parent="Tree/Branches" index="8"]
position = Vector2(98, 150)

[node name="CollisionShape2D" parent="Tree/Branches/RigidBody2D8" index="0"]
position = Vector2(14, 53)

[node name="CollisionShape2D2" parent="Tree/Branches/RigidBody2D8" index="1"]
position = Vector2(70, -22)

[node name="AnimatedSprite2D" parent="Tree/Branches/RigidBody2D8" index="2"]
position = Vector2(-89.99999, 0)

[node name="TextureRect" type="TextureRect" parent="Tree"]
offset_left = -678.0
offset_top = -771.0
offset_right = 668.0
offset_bottom = -123.0
texture = ExtResource("11_om7ee")

[node name="StaticBody2D" type="Area2D" parent="Tree"]
position = Vector2(122, 171)
script = ExtResource("8_2vexs")

[node name="NutPile" type="Sprite2D" parent="Tree/StaticBody2D"]
scale = Vector2(0.46800005, 0.44385964)
texture = ExtResource("7_oqnwj")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Tree/StaticBody2D"]
shape = SubResource("CircleShape2D_om7ee")

[node name="Dave" type="Node2D" parent="."]
position = Vector2(437, 599)

[node name="Dave" type="AnimatedSprite2D" parent="Dave"]
position = Vector2(-59.999992, -50.999992)
scale = Vector2(0.25, 0.25)
sprite_frames = SubResource("SpriteFrames_f0uwl")
animation = &"WalkRight"
frame = 3
frame_progress = 0.75104165
script = ExtResource("15_dmsi2")

[node name="Timer" type="Timer" parent="Dave"]
autostart = true

[node name="CanvasLayer" type="CanvasLayer" parent="."]
layer = -10
follow_viewport_enabled = true

[node name="TextureRect" type="TextureRect" parent="CanvasLayer"]
offset_right = 40.0
offset_bottom = 40.0
texture = ExtResource("18_3am05")

[node name="Control" type="Control" parent="."]
visible = false
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Label" type="Label" parent="Control"]
z_index = 8
layout_mode = 0
offset_left = 235.0
offset_top = 217.0
offset_right = 969.0
offset_bottom = 392.0
theme_override_colors/font_color = Color(0.012617188, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 128
text = "GAME OVER"

[node name="Button" type="Button" parent="Control"]
z_index = 6
layout_mode = 0
offset_left = 448.0
offset_top = 420.0
offset_right = 757.0
offset_bottom = 590.0
theme_override_font_sizes/font_size = 48
text = "RESTART"
script = ExtResource("26_qhcem")

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("29_2vexs")
autoplay = true

[connection signal="area_entered" from="Tree/StaticBody2D" to="Tree/StaticBody2D" method="_on_area_entered"]
[connection signal="body_entered" from="Tree/StaticBody2D" to="Tree/StaticBody2D" method="_on_body_entered"]
[connection signal="timeout" from="Dave/Timer" to="Dave/Dave" method="_on_timer_timeout"]
[connection signal="pressed" from="Control/Button" to="Control/Button" method="_on_pressed"]

[editable path="SirNut"]
[editable path="Tree"]
[editable path="Tree/Branches"]
